@use 'sass:map';

// Enterprise-grade responsive breakpoints
// Mobile-first approach

// Breakpoint values
$breakpoints: (
  xs: 0,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px,
);

// Container max-widths
$container-max-widths: (
  sm: 540px,
  md: 720px,
  lg: 960px,
  xl: 1140px,
  xxl: 1320px,
);

// Spacing scale (mobile-first)
$spacing-scale: (
  0: 0,
  1: 0.25rem,   // 4px
  2: 0.5rem,    // 8px
  3: 0.75rem,   // 12px
  4: 1rem,      // 16px
  5: 1.25rem,   // 20px
  6: 1.5rem,   // 24px
  8: 2rem,     // 32px
  10: 2.5rem,  // 40px
  12: 3rem,    // 48px
  16: 4rem,    // 64px
  20: 5rem,    // 80px
  24: 6rem,    // 96px
);

// Touch target minimum size (Apple HIG recommends 44x44px)
$touch-target-min: 22px;

// Typography scale
$font-sizes: (
  xs: 0.75rem,   // 12px
  sm: 0.875rem,  // 14px
  base: 1rem,    // 16px
  lg: 1.125rem,  // 18px
  xl: 1.25rem,   // 20px
  '2xl': 1.5rem, // 24px
  '3xl': 1.875rem, // 30px
  '4xl': 2.25rem,  // 36px
  '5xl': 3rem,     // 48px
);

// Mixins for responsive breakpoints
@mixin respond-to($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    $value: map.get($breakpoints, $breakpoint);
    @if $value == 0 {
      @content;
    } @else {
      @media (min-width: $value) {
        @content;
      }
    }
  } @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

@mixin respond-below($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    $value: map.get($breakpoints, $breakpoint);
    @if $value > 0 {
      $max-width: $value - 1px;
      @media (max-width: $max-width) {
        @content;
      }
    }
  } @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

// Container mixin
@mixin container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;

  @include respond-to(sm) {
    max-width: map.get($container-max-widths, sm);
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  @include respond-to(md) {
    max-width: map.get($container-max-widths, md);
  }

  @include respond-to(lg) {
    max-width: map.get($container-max-widths, lg);
    padding-left: 2rem;
    padding-right: 2rem;
  }

  @include respond-to(xl) {
    max-width: map.get($container-max-widths, xl);
    padding-left: 2.5rem;
    padding-right: 2.5rem;
  }

  @include respond-to(xxl) {
    max-width: map.get($container-max-widths, xxl);
    padding-left: 3rem;
    padding-right: 3rem;
  }
}

// Touch-friendly button/input
@mixin touch-target {
  min-height: $touch-target-min;
  min-width: $touch-target-min;
  padding: 0.75rem 1rem;
}

// Smooth transitions
@mixin transition($property: all, $duration: 0.2s, $easing: ease-in-out) {
  transition: $property $duration $easing;
}

// Focus visible (accessibility)
@mixin focus-visible {
  &:focus-visible {
    outline: 2px solid var(--primary-green, #3d7277);
    outline-offset: 2px;
  }
}

